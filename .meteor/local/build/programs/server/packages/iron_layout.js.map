{"version":3,"sources":["meteor://ðŸ’»app/packages/iron_layout/packages/iron_layout.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sG","file":"/packages/iron_layout.js","sourcesContent":["(function () {\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// packages/iron:layout/version_conflict_errors.js                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar errors = [];                                                                                                       // 1\n                                                                                                                       // 2\nif (Package['cmather:iron-layout']) {                                                                                  // 3\n  errors.push(\"\\n\\n\\\n    The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\\n\\\n    You can see which cmather:iron-{x} packages have been installed by using this command:\\n\\n\\\n    > meteor list\\n\\n\\\n    Can you remove any installed cmather:iron-{x} packages like this:\\\n    \\n\\n\\\n    > meteor remove cmather:iron-core\\n\\\n    > meteor remove cmather:iron-router\\n\\\n    > meteor remove cmather:iron-dynamic-template\\n\\\n    > meteor remove cmather:iron-dynamic-layout\\n\\\n    \\n\\\n    The new packages are named iron:{x}. For example:\\n\\n\\\n    > meteor add iron:router\\n\\n\\\n    Sorry for the hassle, but thank you!\\\n    \\n\\n\\\n  \");                                                                                                                  // 19\n}                                                                                                                      // 20\n                                                                                                                       // 21\n// If the user still has blaze-layout throw  an error. Let's get rid of that                                           // 22\n// package so it's not lingering around with all its nastiness.                                                        // 23\nif (Package['cmather:blaze-layout']) {                                                                                 // 24\n  errors.push(                                                                                                         // 25\n    \"The blaze-layout package has been replaced by iron-layout. Please remove the package like this:\\n> meteor remove cmather:blaze-layout\\n\"\n  );                                                                                                                   // 27\n}                                                                                                                      // 28\n                                                                                                                       // 29\nif (errors.length > 0) {                                                                                               // 30\n  throw new Error(\"Sorry! Looks like there's a few errors related to iron:layout\\n\\n\" + errors.join(\"\\n\\n\"));          // 31\n}                                                                                                                      // 32\n                                                                                                                       // 33\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n\n\n\n\n(function () {\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// packages/iron:layout/layout.js                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*****************************************************************************/                                        // 1\n/* Imports */                                                                                                          // 2\n/*****************************************************************************/                                        // 3\nvar DynamicTemplate = Iron.DynamicTemplate;                                                                            // 4\nvar inherits = Iron.utils.inherits;                                                                                    // 5\n                                                                                                                       // 6\n/*****************************************************************************/                                        // 7\n/* Helpers */                                                                                                          // 8\n/*****************************************************************************/                                        // 9\n/**                                                                                                                    // 10\n * Find the first Layout in the rendered parent hierarchy.                                                             // 11\n */                                                                                                                    // 12\nfindFirstLayout = function (view) {                                                                                    // 13\n  while (view) {                                                                                                       // 14\n    if (view.name === 'Iron.Layout')                                                                                   // 15\n      return view.__dynamicTemplate__;                                                                                 // 16\n    else                                                                                                               // 17\n      view = view.parentView;                                                                                          // 18\n  }                                                                                                                    // 19\n                                                                                                                       // 20\n  return null;                                                                                                         // 21\n};                                                                                                                     // 22\n                                                                                                                       // 23\n/*****************************************************************************/                                        // 24\n/* Layout */                                                                                                           // 25\n/*****************************************************************************/                                        // 26\n                                                                                                                       // 27\n/**                                                                                                                    // 28\n * Dynamically render templates into regions.                                                                          // 29\n *                                                                                                                     // 30\n * Layout inherits from Iron.DynamicTemplate and provides the ability to create                                        // 31\n * regions that a user can render templates or content blocks into. The layout                                         // 32\n * and each region is an instance of DynamicTemplate so the template and data                                          // 33\n * contexts are completely dynamic and programmable in javascript.                                                     // 34\n */                                                                                                                    // 35\nLayout = function (options) {                                                                                          // 36\n  var self = this;                                                                                                     // 37\n                                                                                                                       // 38\n  Layout.__super__.constructor.apply(this, arguments);                                                                 // 39\n                                                                                                                       // 40\n  options = options || {};                                                                                             // 41\n  this.name = 'Iron.Layout';                                                                                           // 42\n  this._regions = {};                                                                                                  // 43\n  this._regionHooks = {};                                                                                              // 44\n  this.defaultTemplate('__IronDefaultLayout__');                                                                       // 45\n                                                                                                                       // 46\n  // if there's block content then render that                                                                         // 47\n  // to the main region                                                                                                // 48\n  if (options.content)                                                                                                 // 49\n    this.render(options.content);                                                                                      // 50\n};                                                                                                                     // 51\n                                                                                                                       // 52\n/**                                                                                                                    // 53\n * The default region for a layout where the main content will go.                                                     // 54\n */                                                                                                                    // 55\nDEFAULT_REGION = Layout.DEFAULT_REGION = 'main';                                                                       // 56\n                                                                                                                       // 57\n/**                                                                                                                    // 58\n * Inherits from Iron.DynamicTemplate which gives us the ability to set the                                            // 59\n * template and data context dynamically.                                                                              // 60\n */                                                                                                                    // 61\ninherits(Layout, Iron.DynamicTemplate);                                                                                // 62\n                                                                                                                       // 63\n/**                                                                                                                    // 64\n * Return the DynamicTemplate instance for a given region. If the region doesn't                                       // 65\n * exist it is created.                                                                                                // 66\n *                                                                                                                     // 67\n * The regions object looks like this:                                                                                 // 68\n *                                                                                                                     // 69\n *  {                                                                                                                  // 70\n *    \"main\": DynamicTemplate,                                                                                         // 71\n *    \"footer\": DynamicTemplate,                                                                                       // 72\n *    .                                                                                                                // 73\n *    .                                                                                                                // 74\n *    .                                                                                                                // 75\n *  }                                                                                                                  // 76\n */                                                                                                                    // 77\nLayout.prototype.region = function (name, options) {                                                                   // 78\n  return this._ensureRegion(name, options);                                                                            // 79\n};                                                                                                                     // 80\n                                                                                                                       // 81\n/**                                                                                                                    // 82\n * Destroy all child regions and reset the regions map.                                                                // 83\n */                                                                                                                    // 84\nLayout.prototype.destroyRegions = function () {                                                                        // 85\n  _.each(this._regions, function (dynamicTemplate) {                                                                   // 86\n    dynamicTemplate.destroy();                                                                                         // 87\n  });                                                                                                                  // 88\n                                                                                                                       // 89\n  this._regions = {};                                                                                                  // 90\n};                                                                                                                     // 91\n                                                                                                                       // 92\n/**                                                                                                                    // 93\n * Set the template for a region.                                                                                      // 94\n */                                                                                                                    // 95\nLayout.prototype.render = function (template, options) {                                                               // 96\n  // having options is usually good                                                                                    // 97\n  options = options || {};                                                                                             // 98\n                                                                                                                       // 99\n  // let the user specify the region to render the template into                                                       // 100\n  var region = options.to || options.region || DEFAULT_REGION;                                                         // 101\n                                                                                                                       // 102\n  // get the DynamicTemplate for this region                                                                           // 103\n  var dynamicTemplate = this.region(region);                                                                           // 104\n                                                                                                                       // 105\n  // if we're in a rendering transaction, track that we've rendered this                                               // 106\n  // particular region                                                                                                 // 107\n  this._trackRenderedRegion(region);                                                                                   // 108\n                                                                                                                       // 109\n  // set the template value for the dynamic template                                                                   // 110\n  dynamicTemplate.template(template);                                                                                  // 111\n                                                                                                                       // 112\n  // set the data for the region. If options.data is not defined, this will                                            // 113\n  // clear the data, which is what we want                                                                             // 114\n  dynamicTemplate.data(options.data);                                                                                  // 115\n                                                                                                                       // 116\n  return dynamicTemplate;                                                                                              // 117\n};                                                                                                                     // 118\n                                                                                                                       // 119\n/**                                                                                                                    // 120\n * Returns true if the given region is defined and false otherwise.                                                    // 121\n */                                                                                                                    // 122\nLayout.prototype.has = function (region) {                                                                             // 123\n  region = region || Layout.DEFAULT_REGION;                                                                            // 124\n  return !!this._regions[region];                                                                                      // 125\n};                                                                                                                     // 126\n                                                                                                                       // 127\n/**                                                                                                                    // 128\n * Returns an array of region keys.                                                                                    // 129\n */                                                                                                                    // 130\nLayout.prototype.regionKeys = function () {                                                                            // 131\n  return _.keys(this._regions);                                                                                        // 132\n};                                                                                                                     // 133\n                                                                                                                       // 134\n/**                                                                                                                    // 135\n * Clear a given region or the \"main\" region by default.                                                               // 136\n */                                                                                                                    // 137\nLayout.prototype.clear = function (region) {                                                                           // 138\n  region = region || Layout.DEFAULT_REGION;                                                                            // 139\n                                                                                                                       // 140\n  // we don't want to create a region if it didn't exist before                                                        // 141\n  if (this.has(region))                                                                                                // 142\n    this.region(region).template(null);                                                                                // 143\n                                                                                                                       // 144\n  // chain it up                                                                                                       // 145\n  return this;                                                                                                         // 146\n};                                                                                                                     // 147\n                                                                                                                       // 148\n/**                                                                                                                    // 149\n * Clear all regions.                                                                                                  // 150\n */                                                                                                                    // 151\nLayout.prototype.clearAll = function () {                                                                              // 152\n  _.each(this._regions, function (dynamicTemplate) {                                                                   // 153\n    dynamicTemplate.template(null);                                                                                    // 154\n  });                                                                                                                  // 155\n                                                                                                                       // 156\n  // chain it up                                                                                                       // 157\n  return this;                                                                                                         // 158\n};                                                                                                                     // 159\n                                                                                                                       // 160\n/**                                                                                                                    // 161\n * Start tracking rendered regions.                                                                                    // 162\n */                                                                                                                    // 163\nLayout.prototype.beginRendering = function (onComplete) {                                                              // 164\n  var self = this;                                                                                                     // 165\n  if (this._finishRenderingTransaction)                                                                                // 166\n    this._finishRenderingTransaction();                                                                                // 167\n                                                                                                                       // 168\n  this._finishRenderingTransaction = _.once(function () {                                                              // 169\n    var regions = self._endRendering({flush: false});                                                                  // 170\n    onComplete && onComplete(regions);                                                                                 // 171\n  });                                                                                                                  // 172\n                                                                                                                       // 173\n  Deps.afterFlush(this._finishRenderingTransaction);                                                                   // 174\n                                                                                                                       // 175\n  if (this._renderedRegions)                                                                                           // 176\n    throw new Error(\"You called beginRendering again before calling endRendering\");                                    // 177\n  this._renderedRegions = {};                                                                                          // 178\n};                                                                                                                     // 179\n                                                                                                                       // 180\n/**                                                                                                                    // 181\n * Track a rendered region if we're in a transaction.                                                                  // 182\n */                                                                                                                    // 183\nLayout.prototype._trackRenderedRegion = function (region) {                                                            // 184\n  if (!this._renderedRegions)                                                                                          // 185\n    return;                                                                                                            // 186\n  this._renderedRegions[region] = true;                                                                                // 187\n};                                                                                                                     // 188\n                                                                                                                       // 189\n/**                                                                                                                    // 190\n * Stop a rendering transaction and retrieve the rendered regions. This                                                // 191\n * shouldn't be called directly. Instead, pass an onComplete callback to the                                           // 192\n * beginRendering method.                                                                                              // 193\n */                                                                                                                    // 194\nLayout.prototype._endRendering = function (opts) {                                                                     // 195\n  // we flush here to ensure all of the {{#contentFor}} inclusions have had a                                          // 196\n  // chance to render from our templates, otherwise we'll never know about                                             // 197\n  // them.                                                                                                             // 198\n  opts = opts || {};                                                                                                   // 199\n  if (opts.flush !== false)                                                                                            // 200\n    Deps.flush();                                                                                                      // 201\n  var renderedRegions = this._renderedRegions || {};                                                                   // 202\n  this._renderedRegions = null;                                                                                        // 203\n  return _.keys(renderedRegions);                                                                                      // 204\n};                                                                                                                     // 205\n                                                                                                                       // 206\n/**                                                                                                                    // 207\n * View lifecycle hooks for regions.                                                                                   // 208\n */                                                                                                                    // 209\n_.each(                                                                                                                // 210\n  [                                                                                                                    // 211\n    'onRegionCreated',                                                                                                 // 212\n    'onRegionRendered',                                                                                                // 213\n    'onRegionDestroyed'                                                                                                // 214\n  ],                                                                                                                   // 215\n  function (hook) {                                                                                                    // 216\n    Layout.prototype[hook] = function (cb) {                                                                           // 217\n      var hooks = this._regionHooks[hook] = this._regionHooks[hook] || [];                                             // 218\n      hooks.push(cb);                                                                                                  // 219\n      return this;                                                                                                     // 220\n    }                                                                                                                  // 221\n  }                                                                                                                    // 222\n);                                                                                                                     // 223\n                                                                                                                       // 224\n/**                                                                                                                    // 225\n * Returns the DynamicTemplate for a given region or creates it if it doesn't                                          // 226\n * exists yet.                                                                                                         // 227\n */                                                                                                                    // 228\nLayout.prototype._ensureRegion = function (name, options) {                                                            // 229\n return this._regions[name] = this._regions[name] || this._createDynamicTemplate(name, options);                       // 230\n};                                                                                                                     // 231\n                                                                                                                       // 232\n/**                                                                                                                    // 233\n * Create a new DynamicTemplate instance.                                                                              // 234\n */                                                                                                                    // 235\nLayout.prototype._createDynamicTemplate = function (name, options) {                                                   // 236\n  var self = this;                                                                                                     // 237\n  var tmpl = new Iron.DynamicTemplate(options);                                                                        // 238\n  var capitalize = Iron.utils.capitalize;                                                                              // 239\n  tmpl._region = name;                                                                                                 // 240\n                                                                                                                       // 241\n  _.each(['viewCreated', 'viewReady', 'viewDestroyed'], function (hook) {                                              // 242\n    hook = capitalize(hook);                                                                                           // 243\n    tmpl['on' + hook](function (dynamicTemplate) {                                                                     // 244\n      // \"this\" is the view instance                                                                                   // 245\n      var view = this;                                                                                                 // 246\n      var regionHook = ({                                                                                              // 247\n        viewCreated: \"regionCreated\",                                                                                  // 248\n        viewReady: \"regionRendered\",                                                                                   // 249\n        viewDestroyed: \"regionDestroyed\"                                                                               // 250\n      })[hook];                                                                                                        // 251\n      self._runRegionHooks('on' + regionHook, view, dynamicTemplate);                                                  // 252\n    });                                                                                                                // 253\n  });                                                                                                                  // 254\n                                                                                                                       // 255\n  return tmpl;                                                                                                         // 256\n};                                                                                                                     // 257\n                                                                                                                       // 258\nLayout.prototype._runRegionHooks = function (name, regionView, regionDynamicTemplate) {                                // 259\n  var layout = this;                                                                                                   // 260\n  var hooks = this._regionHooks[name] || [];                                                                           // 261\n  var hook;                                                                                                            // 262\n                                                                                                                       // 263\n  for (var i = 0; i < hooks.length; i++) {                                                                             // 264\n    hook = hooks[i];                                                                                                   // 265\n    // keep the \"thisArg\" pointing to the view, but make the first parameter to                                        // 266\n    // the callback teh dynamic template instance.                                                                     // 267\n    hook.call(regionView, regionDynamicTemplate.region, regionDynamicTemplate, this);                                  // 268\n  }                                                                                                                    // 269\n};                                                                                                                     // 270\n                                                                                                                       // 271\n/*****************************************************************************/                                        // 272\n/* UI Helpers */                                                                                                       // 273\n/*****************************************************************************/                                        // 274\nif (typeof Template !== 'undefined') {                                                                                 // 275\n  /**                                                                                                                  // 276\n   * Create a region in the closest layout ancestor.                                                                   // 277\n   *                                                                                                                   // 278\n   * Examples:                                                                                                         // 279\n   *    <aside>                                                                                                        // 280\n   *      {{> yield \"aside\"}}                                                                                          // 281\n   *    </aside>                                                                                                       // 282\n   *                                                                                                                   // 283\n   *    <article>                                                                                                      // 284\n   *      {{> yield}}                                                                                                  // 285\n   *    </article>                                                                                                     // 286\n   *                                                                                                                   // 287\n   *    <footer>                                                                                                       // 288\n   *      {{> yield \"footer\"}}                                                                                         // 289\n   *    </footer>                                                                                                      // 290\n   */                                                                                                                  // 291\n  UI.registerHelper('yield', new Template('yield', function () {                                                       // 292\n    var layout = findFirstLayout(this);                                                                                // 293\n                                                                                                                       // 294\n    if (!layout)                                                                                                       // 295\n      throw new Error(\"No Iron.Layout found so you can't use yield!\");                                                 // 296\n                                                                                                                       // 297\n    // Example options: {{> yield region=\"footer\"}} or {{> yield \"footer\"}}                                            // 298\n    var options = DynamicTemplate.getInclusionArguments(this);                                                         // 299\n    var region;                                                                                                        // 300\n    var dynamicTemplate;                                                                                               // 301\n                                                                                                                       // 302\n    if (_.isString(options)) {                                                                                         // 303\n      region = options;                                                                                                // 304\n    } else if (_.isObject(options)) {                                                                                  // 305\n      region = options.region;                                                                                         // 306\n    }                                                                                                                  // 307\n                                                                                                                       // 308\n    // if there's no region specified we'll assume you meant the main region                                           // 309\n    region = region || DEFAULT_REGION;                                                                                 // 310\n                                                                                                                       // 311\n    // get or create the region                                                                                        // 312\n    dynamicTemplate = layout.region(region);                                                                           // 313\n                                                                                                                       // 314\n    // if the dynamicTemplate had already been inserted, let's                                                         // 315\n    // destroy it before creating a new one.                                                                           // 316\n    if (dynamicTemplate.isCreated)                                                                                     // 317\n      dynamicTemplate.destroy();                                                                                       // 318\n                                                                                                                       // 319\n    // now return a newly created view                                                                                 // 320\n    return dynamicTemplate.create();                                                                                   // 321\n  }));                                                                                                                 // 322\n                                                                                                                       // 323\n  /**                                                                                                                  // 324\n   * Render a template into a region in the closest layout ancestor from within                                        // 325\n   * your template markup.                                                                                             // 326\n   *                                                                                                                   // 327\n   * Examples:                                                                                                         // 328\n   *                                                                                                                   // 329\n   *  {{#contentFor \"footer\"}}                                                                                         // 330\n   *    Footer stuff                                                                                                   // 331\n   *  {{/contentFor}}                                                                                                  // 332\n   *                                                                                                                   // 333\n   *  {{> contentFor region=\"footer\" template=\"SomeTemplate\" data=someData}}                                           // 334\n   *                                                                                                                   // 335\n   * Note: The helper is a UI.Component object instead of a function so that                                           // 336\n   * Meteor UI does not create a Deps.Dependency.                                                                      // 337\n   *                                                                                                                   // 338\n   * XXX what happens if the parent that calls contentFor gets destroyed?                                              // 339\n   * XXX the layout.region should be reset to be empty?                                                                // 340\n   * XXX but how do we control order of setting the region? what if it gets destroyed but then something else sets it? // 341\n   *                                                                                                                   // 342\n   */                                                                                                                  // 343\n  UI.registerHelper('contentFor', new Template('contentFor', function () {                                             // 344\n    var layout = findFirstLayout(this);                                                                                // 345\n                                                                                                                       // 346\n    if (!layout)                                                                                                       // 347\n      throw new Error(\"No Iron.Layout found so you can't use contentFor!\");                                            // 348\n                                                                                                                       // 349\n    var options = DynamicTemplate.getInclusionArguments(this) || {}                                                    // 350\n    var content = this.templateContentBlock;                                                                           // 351\n    var template = options.template;                                                                                   // 352\n    var data = options.data;                                                                                           // 353\n    var region;                                                                                                        // 354\n                                                                                                                       // 355\n    if (_.isString(options))                                                                                           // 356\n      region = options;                                                                                                // 357\n    else if (_.isObject(options))                                                                                      // 358\n      region = options.region;                                                                                         // 359\n    else                                                                                                               // 360\n      throw new Error(\"Which region is this contentFor block supposed to be for?\");                                    // 361\n                                                                                                                       // 362\n    // set the region to a provided template or the content directly.                                                  // 363\n    layout.region(region).template(template || content);                                                               // 364\n                                                                                                                       // 365\n    // tell the layout to track this as a rendered region if we're in a                                                // 366\n    // rendering transaction.                                                                                          // 367\n    layout._trackRenderedRegion(region);                                                                               // 368\n                                                                                                                       // 369\n    // if we have some data then set the data context                                                                  // 370\n    if (data)                                                                                                          // 371\n      layout.region(region).data(data);                                                                                // 372\n                                                                                                                       // 373\n    // just render nothing into this area of the page since the dynamic template                                       // 374\n    // will do the actual rendering into the right region.                                                             // 375\n    return null;                                                                                                       // 376\n  }));                                                                                                                 // 377\n                                                                                                                       // 378\n  /**                                                                                                                  // 379\n   * Check to see if a given region is currently rendered to.                                                          // 380\n   *                                                                                                                   // 381\n   * Example:                                                                                                          // 382\n   *    {{#if hasRegion 'aside'}}                                                                                      // 383\n   *      <aside>                                                                                                      // 384\n   *        {{> yield \"aside\"}}                                                                                        // 385\n   *      </aside>                                                                                                     // 386\n   *    {{/if}}                                                                                                        // 387\n   */                                                                                                                  // 388\n  UI.registerHelper('hasRegion', function (region) {                                                                   // 389\n    var layout = findFirstLayout(Blaze.getView());                                                                     // 390\n                                                                                                                       // 391\n    if (!layout)                                                                                                       // 392\n      throw new Error(\"No Iron.Layout found so you can't use hasRegion!\");                                             // 393\n                                                                                                                       // 394\n    if (!_.isString(region))                                                                                           // 395\n      throw new Error(\"You need to provide an region argument to hasRegion\");                                          // 396\n                                                                                                                       // 397\n    return !! layout.region(region).template();                                                                        // 398\n  });                                                                                                                  // 399\n                                                                                                                       // 400\n  /**                                                                                                                  // 401\n   * Let people use Layout directly from their templates!                                                              // 402\n   *                                                                                                                   // 403\n   * Example:                                                                                                          // 404\n   *  {{#Layout template=\"MyTemplate\"}}                                                                                // 405\n   *    Main content goes here                                                                                         // 406\n   *                                                                                                                   // 407\n   *    {{#contentFor \"footer\"}}                                                                                       // 408\n   *      footer goes here                                                                                             // 409\n   *    {{/contentFor}}                                                                                                // 410\n   *  {{/Layout}}                                                                                                      // 411\n   */                                                                                                                  // 412\n  UI.registerHelper('Layout', new Template('layout', function () {                                                     // 413\n    var args = Iron.DynamicTemplate.args(this);                                                                        // 414\n                                                                                                                       // 415\n    var layout = new Layout({                                                                                          // 416\n      template: function () { return args('template'); },                                                              // 417\n      data: function () { return args('data'); },                                                                      // 418\n      content: this.templateContentBlock                                                                               // 419\n    });                                                                                                                // 420\n                                                                                                                       // 421\n    return layout.create();                                                                                            // 422\n  }));                                                                                                                 // 423\n}                                                                                                                      // 424\n/*****************************************************************************/                                        // 425\n/* Namespacing */                                                                                                      // 426\n/*****************************************************************************/                                        // 427\nIron.Layout = Layout;                                                                                                  // 428\n                                                                                                                       // 429\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n"]}